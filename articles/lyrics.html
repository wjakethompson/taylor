<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="How to access song lyrics and work with the data.
">
<title>Working with lyrics data • taylor</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Mulish-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Working with lyrics data">
<meta property="og:description" content="How to access song lyrics and work with the data.
">
<meta property="og:image" content="https://taylor.wjakethompson.com/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@wjakethompson">
<meta name="twitter:site" content="@wjakethompson">
<meta name="google-site-verification" content="I34YfmPPi5fq4AIXmf102qEu6wCe1Hd6sF9wJxoioPE">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-072GBE15TQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-072GBE15TQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">taylor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/taylor.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/lyrics.html">Working with lyrics data</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Plotting</h6>
    <a class="dropdown-item" href="../articles/palettes.html">Using and creating color palettes</a>
    <a class="dropdown-item" href="../articles/plotting.html">Give your ggplots a Taylor Swift theme</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/taylor/2024-05-09-taylor-3.1.0/">Version 3.1.0</a>
    <a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/taylor/2023-11-09-taylor-3.0.0/">Version 3.0.0</a>
    <a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/taylor/2022-11-13-taylor-2.0.0/">Version 2.0.0</a>
    <a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/taylor/2021-12-17-taylor-1.0.0/">Version 1.0.0</a>
    <a class="external-link dropdown-item" href="https://www.wjakethompson.com/blog/taylor/2021-09-01-taylor-0.2.0/">Version 0.2.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/wjakethompson/taylor/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Working with lyrics data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wjakethompson/taylor/blob/HEAD/vignettes/lyrics.Rmd" class="external-link"><code>vignettes/lyrics.Rmd</code></a></small>
      <div class="d-none name"><code>lyrics.Rmd</code></div>
    </div>

    
    
<p>The <code>taylor_all_songs</code> and <code>taylor_album_songs</code>
data sets contain the lyrics for each of Taylor Swift’s songs, as well
as audio characteristics. In each data set, the lyrics are stored as a
list-column.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://taylor.wjakethompson.com">taylor</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">track_lyrics</span> <span class="op">&lt;-</span> <span class="va">taylor_album_songs</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">album_name</span>, <span class="va">track_name</span>, <span class="va">lyrics</span><span class="op">)</span></span>
<span></span>
<span><span class="va">track_lyrics</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 240 × 3</span></span></span>
<span><span class="co">#&gt;    album_name   track_name                 lyrics           </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                      <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>           </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Taylor Swift Tim McGraw                 <span style="color: #949494;">&lt;tibble [55 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Taylor Swift Picture To Burn            <span style="color: #949494;">&lt;tibble [33 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Taylor Swift Teardrops On My Guitar     <span style="color: #949494;">&lt;tibble [36 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Taylor Swift A Place In This World      <span style="color: #949494;">&lt;tibble [27 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Taylor Swift Cold As You                <span style="color: #949494;">&lt;tibble [24 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Taylor Swift The Outside                <span style="color: #949494;">&lt;tibble [37 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Taylor Swift Tied Together With A Smile <span style="color: #949494;">&lt;tibble [36 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Taylor Swift Stay Beautiful             <span style="color: #949494;">&lt;tibble [51 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Taylor Swift Should've Said No          <span style="color: #949494;">&lt;tibble [44 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Taylor Swift Mary's Song (Oh My My My)  <span style="color: #949494;">&lt;tibble [38 × 4]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 230 more rows</span></span></span></code></pre></div>
<p>In other words, both <code>taylor_all_songs</code> and
<code>taylor_ablum_songs</code> are <a href="https://tidyr.tidyverse.org/articles/nest.html" class="external-link">nested data
frames</a>. Each has one row per track, and the lyrics for each track
are are stored in another data frame nested within each row.</p>
<p>There are three primary ways to access data from a nested
list-column. The first is to extract individual list elements. For
example, if we want to see the lyrics for “Cruel Summer,” we can look up
which row of the data set contains “Cruel Summer” and then access that
element of the list.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">track_row</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">track_lyrics</span><span class="op">$</span><span class="va">track_name</span> <span class="op">==</span> <span class="st">"Cruel Summer"</span><span class="op">)</span></span>
<span><span class="va">track_lyrics</span><span class="op">$</span><span class="va">lyrics</span><span class="op">[[</span><span class="va">track_row</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 62 × 4</span></span></span>
<span><span class="co">#&gt;     line lyric                                            element element_artist</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>     1 (Yeah, yeah, yeah, yeah)                         Intro   Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>     2 Fever dream high in the quiet of the night       Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>     3 You know that I caught it (Oh yeah, you're righ… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>     4 Bad, bad boy, shiny toy with a price             Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>     5 You know that I bought it (Oh yeah, you're righ… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>     6 Killing me slow, out the window                  Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>     7 I'm always waiting for you to be waiting below   Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>     8 Devils roll the dice, angels roll their eyes     Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>     9 What doesn't kill me makes me want you more      Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span>    10 And it's new, the shape of your body             Chorus  Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 52 more rows</span></span></span></code></pre></div>
<p>As expected, this returns another data frame, with one row for each
line in the song. However, this approach only allows us to unnest one
track at a time. A more efficient method for extracting data in a nested
list-column is to use <code><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">tidyr::unnest()</a></code>. This approach
unnests all of the data in a list-column at once. Rather than having a
data set that is one row per song, we now have a data set that is one
row per line per song.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">track_lyrics</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">lyrics</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 12,151 × 6</span></span></span>
<span><span class="co">#&gt;    album_name   track_name  line lyric                    element element_artist</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Taylor Swift Tim McGraw     1 <span style="color: #949494;">"</span>He said the way my blu… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Taylor Swift Tim McGraw     2 <span style="color: #949494;">"</span>Put those Georgia star… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Taylor Swift Tim McGraw     3 <span style="color: #949494;">"</span>I said, \"That's a lie… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Taylor Swift Tim McGraw     4 <span style="color: #949494;">"</span>Just a boy in a Chevy … Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Taylor Swift Tim McGraw     5 <span style="color: #949494;">"</span>That had a tendency of… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Taylor Swift Tim McGraw     6 <span style="color: #949494;">"</span>On backroads at night<span style="color: #949494;">"</span>  Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Taylor Swift Tim McGraw     7 <span style="color: #949494;">"</span>And I was right there … Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Taylor Swift Tim McGraw     8 <span style="color: #949494;">"</span>And then the time we w… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Taylor Swift Tim McGraw     9 <span style="color: #949494;">"</span>But when you think Tim… Chorus  Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Taylor Swift Tim McGraw    10 <span style="color: #949494;">"</span>I hope you think my fa… Chorus  Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 12,141 more rows</span></span></span></code></pre></div>
<p>If we are interested in the lyrics for only a specific album or a
specific song, we can always use <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code> to include
only the data we are interested in.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">track_lyrics</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">track_name</span> <span class="op">==</span> <span class="st">"Cruel Summer"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">lyrics</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 62 × 6</span></span></span>
<span><span class="co">#&gt;    album_name track_name    line lyric                    element element_artist</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Lover      Cruel Summer     1 (Yeah, yeah, yeah, yeah) Intro   Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Lover      Cruel Summer     2 Fever dream high in the… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Lover      Cruel Summer     3 You know that I caught … Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Lover      Cruel Summer     4 Bad, bad boy, shiny toy… Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Lover      Cruel Summer     5 You know that I bought … Verse 1 Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Lover      Cruel Summer     6 Killing me slow, out th… Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Lover      Cruel Summer     7 I'm always waiting for … Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Lover      Cruel Summer     8 Devils roll the dice, a… Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Lover      Cruel Summer     9 What doesn't kill me ma… Pre-Ch… Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Lover      Cruel Summer    10 And it's new, the shape… Chorus  Taylor Swift  </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 52 more rows</span></span></span></code></pre></div>
<p>Finally, sometimes we want to perform a calculation on each element
of a list-column. In this case, we don’t necessarily need to unnest each
element. Instead, we can use a combination of
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code> and <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">purrr::map()</a></code> to apply a
function to each element of the list-column. For example, we if want to
know the number of lines in each song, we can apply <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow()</a></code>
to each element of the list column. Because <code><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow()</a></code> returns
and integer value, we’ll use <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">purrr::map_int()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">track_lyrics</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">album_name</span> <span class="op">==</span> <span class="st">"Lover"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lines <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_int</a></span><span class="op">(</span><span class="va">lyrics</span>, <span class="va">nrow</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 18 × 4</span></span></span>
<span><span class="co">#&gt;    album_name track_name                             lyrics            lines</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                  <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Lover      I Forgot That You Existed              <span style="color: #949494;">&lt;tibble [45 × 4]&gt;</span>    45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Lover      Cruel Summer                           <span style="color: #949494;">&lt;tibble [62 × 4]&gt;</span>    62</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Lover      Lover                                  <span style="color: #949494;">&lt;tibble [33 × 4]&gt;</span>    33</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Lover      The Man                                <span style="color: #949494;">&lt;tibble [48 × 4]&gt;</span>    48</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Lover      The Archer                             <span style="color: #949494;">&lt;tibble [45 × 4]&gt;</span>    45</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Lover      I Think He Knows                       <span style="color: #949494;">&lt;tibble [65 × 4]&gt;</span>    65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Lover      Miss Americana &amp; The Heartbreak Prince <span style="color: #949494;">&lt;tibble [62 × 4]&gt;</span>    62</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Lover      Paper Rings                            <span style="color: #949494;">&lt;tibble [65 × 4]&gt;</span>    65</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Lover      Cornelia Street                        <span style="color: #949494;">&lt;tibble [53 × 4]&gt;</span>    53</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Lover      Death By A Thousand Cuts               <span style="color: #949494;">&lt;tibble [60 × 4]&gt;</span>    60</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">11</span> Lover      London Boy                             <span style="color: #949494;">&lt;tibble [58 × 4]&gt;</span>    58</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">12</span> Lover      Soon You'll Get Better                 <span style="color: #949494;">&lt;tibble [46 × 4]&gt;</span>    46</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">13</span> Lover      False God                              <span style="color: #949494;">&lt;tibble [50 × 4]&gt;</span>    50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">14</span> Lover      You Need To Calm Down                  <span style="color: #949494;">&lt;tibble [40 × 4]&gt;</span>    40</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">15</span> Lover      Afterglow                              <span style="color: #949494;">&lt;tibble [48 × 4]&gt;</span>    48</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">16</span> Lover      ME!                                    <span style="color: #949494;">&lt;tibble [64 × 4]&gt;</span>    64</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">17</span> Lover      It's Nice To Have A Friend             <span style="color: #949494;">&lt;tibble [28 × 4]&gt;</span>    28</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">18</span> Lover      Daylight                               <span style="color: #949494;">&lt;tibble [59 × 4]&gt;</span>    59</span></span></code></pre></div>
<p>The resulting data frame is still one row per song, because we have
not unnested the lyrics. However, our summary statistic has been added
as an additional column.</p>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://wjakethompson.com" class="external-link">W. Jake Thompson</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
